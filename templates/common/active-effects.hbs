
{{!-- FUID Field --}}
{{> "systems/projectfu/templates/item/partials/item-regenerate-fuid.hbs"}}
<section class="desc drop-zone">
    {{#unless hideHeader}}
        <header class="items-main-header">
		<span class="items-main">
			<label class="items-label">{{localize "FU.Effects"}}</label>
		</span>
            <span class="effects-clear items-main total-level w-25" data-action="clearTempEffects"
                  data-tooltip="{{localize 'FU.ClearTemp'}}">
			<a>{{localize 'FU.Clear'}} <i class="fas fa-eraser"></i></a>
		</span>
        </header>
    {{/unless}}
    <ol class="items-list effects-list">
        {{#each effects as |section sid|}}
            <li class="effect items-header flexrow" data-effect-type="{{ section.type }}">
                <div class="item-name">{{localize section.label}}</div>
                <div class="item-lg">{{localize 'FU.Source'}}</div>
                <div class="item-lg">{{localize 'FU.Duration'}}</div>
                <div class="item-s end flexrow">
                    <a class="effect-control" data-action="create" title="{{localize 'FU.EffectCreate'}}"> <i
                     class="fas fa-plus icon"></i>{{localize "FU.Add"}} </a>
                </div>
            </li>

            <ol class="item-list">
                {{#each section.effects as |effect|}}
                    <li class="effect {{#if (and effect.isSuppressed (not effect.disabled))}}suppressed{{/if}}"
                        data-effect-id="{{ effect.id }}">
                        <div class="flexrow">
                            {{!-- Item Name--}}
                            <div class="item-name">
                                <div class="item-name"
                                    {{~#if (and effect.isSuppressed (not effect.disabled))~}}
                                     data-tooltip="
                                        {{~#if (eq effect.flags.projectfu.CrisisInteraction "active")~}}
                                         {{~localize "FU.EffectCrisisInteractionActiveTooltip"~}}
                                         {{~else~}}
                                         {{~localize "FU.EffectCrisisInteractionInactiveTooltip"~}}
                                     {{~/if}}"
                                    {{~/if}}>
                                    <div class="item-image">
                                        <div class="rollable" data-roll-type="item">
                                            <img src="{{ effect.icon }}" data-tooltip="{{ effect.name }}" />
                                        </div>
                                    </div>
                                    <h4 class="click-item resource-content">
								<span class="resource-text-m gap-3" style="display: flex; align-items: center;">
                                    {{ effect.name }}
                                </span>
                                    </h4>
                                </div>
                                <div class="item-lg">{{ effect.sourceName }}</div>
                                <div class="item-lg">{{ effect.duration.name }}</div>
                                <div class="item-m end flexrow">
                                    <a class="effect-control" data-action="toggle"
                                       title="{{localize 'FU.EffectToggle'}}">
                                        <i
                                         class="{{#if
                                          effect.disabled}}far fa-circle-check{{else}}fas fa-circle-check{{/if}}"></i>
                                    </a>
                                    <a class="effect-control" data-action="copy-inline" title="{{localize 'FU.EffectCopy'}}">
                                        <i class="fas fa-copy"></i>
                                    </a>
                                    <a class="effect-control" data-action="edit" title="{{localize 'FU.EffectEdit'}}">
                                        <i class="fas fa-edit"></i>
                                    </a>
                                    <a class="effect-control" data-action="delete"
                                       title="{{localize 'FU.EffectDelete'}}">
                                        <i class="fas fa-trash"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="individual-description">{{#if effect.description}} {{editor effect.description
                                                                                                target="effect.description"
                                                                                                rollData=rollData
                                                                                                button=false owner=owner
                                                                                                editable=false}} {{/if}}
                        </div>
                    </li>
                {{/each}}
            </ol>
        {{/each}}
    </ol>
</section>